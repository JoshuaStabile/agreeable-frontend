mark.agreeable-highlight {
    background-color: transparent !important;
    color: inherit !important;
    position: relative;
    display: inline-block;
    z-index: 0;
    overflow: hidden;
    cursor: pointer;

    /* Default (fallback) */
    --highlight-color: #FFCF00;
    --highlight-opacity: 0.4;
}

/* None = green (#00916E) */
mark.agreeable-highlight[data-agreeable-severity="helpful"] {
    --highlight-color: #00916E;
    --highlight-opacity: 0.4;
}

/* Low = yellow (#FFCF00) */
mark.agreeable-highlight[data-agreeable-severity="low"] {
    --highlight-color: #FFCF00;
    --highlight-opacity: 0.4;
}

/* Medium = orange (#EE6123) */
mark.agreeable-highlight[data-agreeable-severity="medium"] {
    --highlight-color: #EE6123;
    --highlight-opacity: 0.4;
}

/* High = red (#FA003F) */
mark.agreeable-highlight[data-agreeable-severity="high"] {
    --highlight-color: #FA003F;
    --highlight-opacity: 0.4;
}

/* Highlight background animation */
mark.agreeable-highlight::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    width: 100%;
    background-color: var(--highlight-color);
    opacity: var(--highlight-opacity);
    z-index: -1;
    transform: translateX(-100%);
    animation: highlightSweep 1s ease-out forwards;
    animation-fill-mode: forwards;
    pointer-events: none;
}

/* Hover only increases opacity */
mark.agreeable-highlight:not(.clicked):hover::before {
    opacity: calc(var(--highlight-opacity) + 0.2);
}

mark.agreeable-highlight.clicked::before {
    opacity: calc(var(--highlight-opacity) + 0.2);
}

@keyframes highlightSweep {
    to { transform: translateX(0%); }
}
